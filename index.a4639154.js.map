{"mappings":"AAEAA,eAAeC,EAAeC,GAC5B,MAAMC,EAAM,uCAAuCD,IAE7CE,QAAiBC,MAAMF,EALT,mDAMpB,IAAKC,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,QAG3B,aADwBJ,EAASK,M,CCCnC,MAEMC,EAAYC,SAASC,cAAc,eACnCC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBA2B3C,SAASG,IACLF,EAAYG,UAAY,GACxBF,EAAYE,UAAY,E,CA1B5BN,EAAUO,iBAAiB,QAASC,UAEpC,WACI,MAAMC,EAAaC,OAAOV,EAAUW,OACpCN,IAEQI,EAAWG,QACXrB,EAAekB,GACVI,MAAKC,IACEA,EAAUC,OAAS,GACnBC,SAASC,OAAOC,KAAK,8DAEZJ,EAAUC,QAAU,GAAKD,EAAUC,OAAS,GAkB7E,SAA2BD,EAAY,IACnCT,IACA,MAAMc,EAAaL,EAAUM,KAAIC,GACtB,6GAGIA,EAAQC,MAAMC,2BACdF,EAAQG,KAAKC,sFAGdJ,EAAQG,KAAKC,+DAK1BC,KAAK,IACNvB,EAAYG,UAAYa,C,CAjCDQ,CAAkBb,GAoC7C,SAAsBA,EAAY,IAC9BT,IACI,MAAMuB,EAAgBd,EAAUM,KAAIC,GACzB,0HAGIA,EAAQC,MAAMC,+BACdF,EAAQG,KAAKC,0EAEdJ,EAAQG,KAAKC,kLAGsDJ,EAAQQ,iHACLR,EAAQS,mHACTC,OAAOC,OAAOX,EAAQY,WAAWP,KAAK,sDAIxHA,KAAK,IACVtB,EAAYE,UAAYsB,C,CArDEM,CAAapB,EAAU,IAGpCqB,OAAMC,IACHpB,SAASC,OAAOoB,QAAQ,2CAA2C,G,GA1BhE","sources":["src/fetchCountries.js","src/index.js"],"sourcesContent":["const filterOptions = '?fields=name,capital,population,flags,languages';\n\nasync function fetchCountries(text) {\n  const url = `https://restcountries.com/v3.1/name/${text}`;\n\n  const response = await fetch(url + filterOptions);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const countries = await response.json();\n  return countries;\n}\n\nexport { fetchCountries };","/**Import */\nimport './css/styles.css';\n//import axios from 'axios';\n//import Notiflix from 'notiflix';\n//import SimpleLightbox from \"simplelightbox\";\n// Дополнительный импорт стилей\n//import \"simplelightbox/dist/simple-lightbox.min.css\";\n//import debounce from 'lodash.debounce';\nimport { fetchCountries } from './fetchCountries';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchBox = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\n/**Input */\nsearchBox.addEventListener('input', debounce(onBoxInput, DEBOUNCE_DELAY));\n\nfunction onBoxInput() {\n    const searchText = String(searchBox.value);\n    clearCountryContainer();\n\n        if (searchText.trim()) {\n            fetchCountries(searchText)\n                .then(countries => {\n                    if (countries.length > 10) {\n                        Notiflix.Notify.info('Too many matches found. Please enter a more specific name.');\n                    }\n                        else if (countries.length >= 2 && countries.length < 10) {\n                           searchListResults(countries); \n                        }\n                        else {searchResult(countries); \n                        }\n                })\n                .catch(error => {\n                    Notiflix.Notify.failure('Oops, there is no country with that name');\n                });\n        }\n}\n\nfunction clearCountryContainer() {\n    countryList.innerHTML = '';\n    countryInfo.innerHTML = '';\n}\n\n/**Search result */\nfunction searchListResults(countries = []) {\n    clearCountryContainer();\n    const searchList = countries.map(country => {\n        return `\n        <li class=\"country-list__item\">\n            <img class=\"country-list__icon\" \n            src=\"${country.flags.svg}\" \n            alt=\"${country.name.official}\" \n            width = \"25px\"></img>\n            <span>\n                ${country.name.official}\n                </span>\n        </li>\n        `;\n    })\n    .join('');\n    countryList.innerHTML = searchList;\n}\n\nfunction searchResult(countries = []) {\n    clearCountryContainer();\n        const searchCountry = countries.map(country => {\n            return `\n            <div class=\"country-info__name\">\n                <img class=\"country-info__icon\" \n                src=\"${country.flags.svg}\" \n                alt=\"${country.name.official}\" \n                width = \"25px\"></img>\n                <h2>${country.name.official}</h2>\n            </div>\n            <div class=\"country-info__description\">\n                <p class=\"country-info__item\">Capital:<span class=\"country-info__text\">${country.capital}</span></p>\n                <p class=\"country-info__item\">Population:<span class=\"country-info__text\">${country.population}</span></p>\n                <p class=\"country-info__item\">Languahes:<span class=\"country-info__text\">${Object.values(country.languages).join(',')}</span></p>\n            </div>\n            `;\n        })\n        .join('');\n    countryInfo.innerHTML = searchCountry;\n}"],"names":["async","$c584ef0d490f0a58$export$1d1c4391ecac81e8","text","url","response","fetch","ok","Error","status","json","$1f0dc3b9307be026$var$searchBox","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","$1f0dc3b9307be026$var$clearCountryContainer","innerHTML","addEventListener","debounce","searchText","String","value","trim","then","countries","length","Notiflix","Notify","info","searchList","map","country","flags","svg","name","official","join","$1f0dc3b9307be026$var$searchListResults","searchCountry","capital","population","Object","values","languages","$1f0dc3b9307be026$var$searchResult","catch","error","failure"],"version":3,"file":"index.a4639154.js.map"}